<!DOCTYPE html>
<html>
<body>

<h2>Shares Form</h2>

<form action="" id="form">
  <label for="stock">Stock:</label><br>
  <input type="text" id="stock" name="stock"><br>
  <label for="shares">Shares Bought:</label><br>
  <input type="text" id="shares" name="shares"><br>
  <label for="buyPrice">Buy Price:</label><br>
  <input type="text" id="buyPrice" name="buyPrice"><br><br>
  <button type="submit">Submit</button>
</form> 

<script type="text/javascript">
    let form = document.getElementById("form");

    function formatDate(date) {
        obj = new Date(Date.parse(date));
        obj.setDate(obj.getDate() + 1);
        return obj.toLocaleString('default', { month: 'long' }) + " " + obj.getDate() + ", " + obj.getFullYear();
    }

form.addEventListener("submit", (e) => {
    e.preventDefault();
    var arrPrices = [
    "531.4899",
    "530.7000",
    "530.0000",
    "507.2400",
    "497.5300",
    "497.4300",
    "492.8900",
    "499.8900",
    "510.0000",
    "507.2200",
    "509.9700",
    "515.0400",
    "508.1999",
    "496.6296",
    "497.4200",
    "491.8300",
    "501.3500",
    "500.9800",
    "502.3100",
    "497.3200",
    "523.5700",
    "519.8500",
    "502.9700",
    "495.5800",
    "504.4200",
    "504.2500",
    "491.7000",
    "491.0500",
    "487.2700",
    "486.1400",
    "494.3599",
    "489.9900",
    "469.0000",
    "476.1800",
    "478.9600",
    "488.6200",
    "474.1100",
    "467.8900",
    "479.1450",
    "473.5900",
    "470.5900",
    "471.5200",
    "467.1200",
    "471.9000",
    "485.9600",
    "400.5000",
    "398.0000",
    "406.3600",
    "402.9300",
    "396.7900",
    "395.4900",
    "396.1500",
    "388.3800",
    "390.3525",
    "384.3600",
    "376.8500",
    "368.5400",
    "375.6100",
    "377.0600",
    "372.7800",
    "372.9400",
    "360.6400",
    "358.9800",
    "353.5000",
    "348.1499",
    "347.9500",
    "353.1600",
    "360.0000",
    "361.9000",
    "359.0000",
    "356.9800",
    "357.1999",
    "356.4050",
    "354.9600",
    "353.6000",
    "347.5600",
    "338.6600",
    "334.7000",
    "338.3700",
    "334.4700",
    "329.8900",
    "333.1700",
    "328.2400",
    "322.2500",
    "321.8800",
    "320.8600",
    "326.8600",
    "333.5000",
    "339.9000",
    "339.3750",
    "339.9000",
    "341.8556",
    "342.9200",
    "339.9015",
    "341.8700",
    "335.5000",
    "334.5800",
    "338.4000",
    "338.1000",
    "332.3300"
]
    var arrDates = [
    "2024-04-08",
    "2024-04-05",
    "2024-04-04",
    "2024-04-03",
    "2024-04-02",
    "2024-04-01",
    "2024-03-28",
    "2024-03-27",
    "2024-03-26",
    "2024-03-25",
    "2024-03-22",
    "2024-03-21",
    "2024-03-20",
    "2024-03-19",
    "2024-03-18",
    "2024-03-15",
    "2024-03-14",
    "2024-03-13",
    "2024-03-12",
    "2024-03-11",
    "2024-03-08",
    "2024-03-07",
    "2024-03-06",
    "2024-03-05",
    "2024-03-04",
    "2024-03-01",
    "2024-02-29",
    "2024-02-28",
    "2024-02-27",
    "2024-02-26",
    "2024-02-23",
    "2024-02-22",
    "2024-02-21",
    "2024-02-20",
    "2024-02-16",
    "2024-02-15",
    "2024-02-14",
    "2024-02-13",
    "2024-02-12",
    "2024-02-09",
    "2024-02-08",
    "2024-02-07",
    "2024-02-06",
    "2024-02-05",
    "2024-02-02",
    "2024-02-01",
    "2024-01-31",
    "2024-01-30",
    "2024-01-29",
    "2024-01-26",
    "2024-01-25",
    "2024-01-24",
    "2024-01-23",
    "2024-01-22",
    "2024-01-19",
    "2024-01-18",
    "2024-01-17",
    "2024-01-16",
    "2024-01-12",
    "2024-01-11",
    "2024-01-10",
    "2024-01-09",
    "2024-01-08",
    "2024-01-05",
    "2024-01-04",
    "2024-01-03",
    "2024-01-02",
    "2023-12-29",
    "2023-12-28",
    "2023-12-27",
    "2023-12-26",
    "2023-12-22",
    "2023-12-21",
    "2023-12-20",
    "2023-12-19",
    "2023-12-18",
    "2023-12-15",
    "2023-12-14",
    "2023-12-13",
    "2023-12-12",
    "2023-12-11",
    "2023-12-08",
    "2023-12-07",
    "2023-12-06",
    "2023-12-05",
    "2023-12-04",
    "2023-12-01",
    "2023-11-30",
    "2023-11-29",
    "2023-11-28",
    "2023-11-27",
    "2023-11-24",
    "2023-11-22",
    "2023-11-21",
    "2023-11-20",
    "2023-11-17",
    "2023-11-16",
    "2023-11-15",
    "2023-11-14",
    "2023-11-13"
]

    floatPrices = arrPrices.map(Number).sort(function(a, b){return a - b});
    unsorted = arrPrices.map(Number)
    let buyPrice = document.getElementById("buyPrice");
    let shares = document.getElementById("shares");

    document.write("Bought at: $");
    document.writeln((parseFloat(buyPrice.value) * parseFloat(shares.value)).toFixed(2).toString());
    document.write("<br>");
    document.write("Current Value: $");
    document.writeln((parseFloat(arrPrices[0]) * parseFloat(shares.value)).toFixed(2).toString());
    document.write("<br>");
    document.write("All-Time Performance: ");

    if (parseFloat(buyPrice.value) > parseFloat(arrPrices[0])) {
        document.write("Down ");
        document.write(((parseFloat(buyPrice.value)  - parseFloat(arrPrices[0])) / parseFloat(buyPrice.value) * 100).toFixed(2).toString());
        document.write("%");
    }
    else {
        document.write("Up ");
        document.write(((parseFloat(arrPrices[0]) - parseFloat(buyPrice.value)) / parseFloat(buyPrice.value) * 100).toFixed(2).toString());
        document.write("%");
    }

    document.write("<br>");
    document.write("All-Time Low: $");
    document.writeln((floatPrices[0] * parseFloat(shares.value)).toFixed(2).toString());
    document.write(" (");
    document.write(formatDate(arrDates[unsorted.indexOf(floatPrices[0])]));
    document.write(")");
    document.write("<br>");
    document.write("All-Time High: $");
    document.writeln((floatPrices[floatPrices.length - 1] * parseFloat(shares.value)).toFixed(2).toString());
    document.write(" (");
    document.write(formatDate(arrDates[unsorted.indexOf(floatPrices[floatPrices.length - 1])]));
    document.write(")");
    document.write("<br>");
    document.write("Past Day: ");
    
    if (parseFloat(arrPrices[0]) > parseFloat(arrPrices[1])) {
        document.write("Up ");
        document.write(((parseFloat(arrPrices[0])  - parseFloat(arrPrices[1])) / parseFloat(arrPrices[1]) * 100).toFixed(2).toString());
    }
    else {
        document.write("Down ");
        document.write(((parseFloat(arrPrices[1])  - parseFloat(arrPrices[0])) / parseFloat(arrPrices[arrPrices.length - 2]) * 100).toFixed(2).toString());
    }
    document.write("%");
});
</script>

</body>
</html>